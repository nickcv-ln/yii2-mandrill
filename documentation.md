## Table of contents

- [\nickcv\mandrill\Mailer](#class-nickcvmandrillmailer)
- [\nickcv\mandrill\Message](#class-nickcvmandrillmessage)

<hr /> 

### Class: \nickcv\mandrill\Mailer

> Mailer is the class that consuming the Message object sends emails thorugh the Mandrill API.

| Visibility | Function |
|:-----------|:---------|
| public | **compose(**_mixed/string/array/null_ **$view=null**, _array_ **$params=array())** : _MessageInterface message instance._<br />_Creates a new message instance and optionally composes its body content via view rendering. - a string, which represents the view name or path alias for rendering the HTML body of the email. In this case, the text body will be generated by applying `strip_tags()` to the HTML body. - an array with 'html' and/or 'text' elements. The 'html' element refers to the view name or path alias for rendering the HTML body, while 'text' element is for rendering the text body. For example, `['html' => 'contact-html', 'text' => 'contact-text']`. - null, meaning the message instance will be returned without body content. The view to be rendered can be specified in one of the following formats: - path alias (e.g. "@app/mail/contact"); - a relative view name (e.g. "contact") located under [[viewPath]]._ |
| public | **getLastTransaction()** : _array_<br />_Returns the array of the last transaction returned by Mandrill._ |
| ~~public~~ | **~~getMandrill()~~** : _~~Mailchimp~~_<br />_~~Gets Mailchimp instance~~_ |
| public | **getMailchimp()** : _Mailchimp_<br />_Gets Mailchimp instance_ |
| public | **init()** : _void_<br />_Initializes the object. This method is invoked at the end of the constructor after the object is initialized with the given configuration._ |
| public | **setApikey(**_string_ **$apikey)** : _void_<br />_Sets the API key for Mandrill_ |
| protected | **sendMessage(**_[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_ **$message)** : _boolean whether the message is sent successfully_<br />_Sends the specified message._ |

*This class extends \yii\mail\BaseMailer*

*This class implements \yii\base\ViewContextInterface, \yii\mail\MailerInterface, \yii\base\Configurable*

<hr /> 

### Class: \nickcv\mandrill\Message

> Message is the class that is used to store the data of an email message that will be sent through Mandrill API.

| Visibility | Function |
|:-----------|:---------|
| public | **areClicksTracked()** : _boolean_<br />_Returns the status of tracking for when the links in the message are clicked._ |
| public | **areOpensTracked()** : _boolean_<br />_Returns the status of tracking for when the message is opened._ |
| public | **attach(**_string_ **$fileName**, _array_ **$options=array())** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Attaches existing file to the email message._ |
| public | **attachContent(**_string_ **$content**, _array_ **$options=array())** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Attach specified content as file for the email message._ |
| public | **disableAsync()** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Disables async sending the this message._ |
| public | **disableClicksTracking()** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Disable tracking of when links in the message are being clicked._ |
| public | **disableOpensTracking()** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Disable tracking of when the message is opened._ |
| public | **disableTemplateDefaults()** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Disable the use of template defaults._ |
| public | **embed(**_string_ **$fileName**, _array_ **$options=array())** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Embeds an image in the email message._ |
| public | **embedContent(**_string_ **$content**, _array_ **$options=array())** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Embed a binary as an image in the message._ |
| public | **enableAsync()** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Enables async sending for this message._ |
| public | **enableClicksTracking()** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Enable tracking of when links in the message are being clicked. Tracking is enabled by default._ |
| public | **enableOpensTracking()** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Enable tracking of when the message is opened. Tracking is enabled by default._ |
| public | **enableTemplateDefaults()** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Enable the use of template defaults._ |
| public | **getAttachments()** : _array_<br />_Returns the attachments array._ |
| public | **getBcc()** : _array_<br />_Returns an array of email addresses in the following format: ~~~ [_ |
| public | **getCc()** : _array_<br />_Returns an array of email addresses in the following format: ~~~ [_ |
| public | **getCharset()** : _null_<br />_Mandrill does not let users set a charset._ |
| public | **getEmbeddedContent()** : _array list of embedded content_<br />_Returns the images array._ |
| public | **getFrom()** : _string_<br />_Returns the from email address in this format: ~~~ Sender Name <email@example.com> ~~~ The default value for the sender name is the application name configuration parameter inside `config/web.php`. The default value for the sender address is the adminEmail parameter inside `config/params.php`._ |
| public | **getGlobalMergeVars()** : _array_<br />_Returns the global merge vars that will be submitted to mandrill._ |
| public | **getHtmlBody()** : _string_<br />_Returns the html purified version of the html body._ |
| public | **getMandrillMessageArray()** : _array_<br />_Returns the array used by the Mandrill Class to initialize a message and submit it._ |
| public | **getReplyTo()** : _array_<br />_Returns an array of email addresses in the following format: ~~~ [_ |
| public | **getSubaccount()** : _string_ |
| public | **getSubject()** : _string_<br />_Returns the html-encoded subject._ |
| public | **getTags()** : _array the list of tags_<br />_Returns the list of tags you already set for this message._ |
| public | **getTemplateContent()** : _array_<br />_Returns the dynamic content used to replace blocks in the template._ |
| public | **getTemplateName()** : _string_<br />_Returns the name of the mandrill template to be used._ |
| public | **getTextBody()** : _string_<br />_Returns the html-purified version of the raw text body._ |
| public | **getTo()** : _array_<br />_Returns an array of email addresses in the following format: ~~~ [_ |
| public | **isAsync()** : _boolean_<br />_Tells whether or not the message will be sent asynchronously._ |
| public | **isImportant()** : _boolean_ |
| public | **setAsImportant()** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Make the message important._ |
| public | **setAsNotImportant()** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Make the message not important. The message is not important by default._ |
| public | **setBcc(**_string/array_ **$bcc)** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Sets the message recipient(s)._ |
| public | **setCc(**_string/array_ **$cc)** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Sets the message recipient(s)._ |
| public | **setCharset(**_string_ **$charset)** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Mandrill does not let users set a charset._ |
| public | **setFrom(**_string/array_ **$from)** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Sets the message sender._ |
| public | **setGlobalMergeVars(**_array_ **$mergeVars)** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Adds the given merge vars to the global merge vars array. Merge vars are case insensitive and cannot start with __ |
| public | **setHtmlBody(**_string_ **$html)** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Sets the html body._ |
| public | **setReplyTo(**_string/array_ **$replyTo)** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Sets the message recipient(s)._ |
| public | **setSubaccount(**_string_ **$subaccount)** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_ |
| public | **setSubject(**_string_ **$subject)** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Sets the message subject._ |
| public | **setTags(**_string/array_ **$tag)** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Mandrill lets you use tags to categorize your messages, making it much easier to find the messages your are looking for within their website dashboard. Stats are accumulated within mandrill using tags, though they only store the first 100 they see, so this should not be unique or change frequently. Tags should be 50 characters or less. Any tags starting with an underscore are reserved for internal use and will be ignored. Some common tags include *registration* and *password reset*._ |
| public | **setTemplateData(**_string_ **$templateName**, _array_ **$templateContent=array()**, _string_ **$templateLanguage=`'mailchimp'`)** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Sets the data to be used by the Mandrill template system._ |
| public | **setTextBody(**_string_ **$text)** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Sets the raw text body._ |
| public | **setTo(**_string/array_ **$to)** : _[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)_<br />_Sets the message recipient(s)._ |
| public | **toString()** : _string_<br />_Returns the string representation of this message._ |

*This class extends \yii\mail\BaseMessage*

*This class implements \yii\mail\MessageInterface, \yii\base\Configurable*

