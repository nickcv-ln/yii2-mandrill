## Table of contents

- [\nickcv\mandrill\Mailer](#class-nickcvmandrillmailer)
- [\nickcv\mandrill\Message](#class-nickcvmandrillmessage)

<hr /> 
### Class: \nickcv\mandrill\Mailer

> Mailer is the class that consuming the Message object sends emails thorugh the Mandrill API.

| Visibility | Function |
|:-----------|:---------|
| public | <strong>compose(</strong><em>mixed/string/array/null</em> <strong>$view=null</strong>, <em>array</em> <strong>$params=array()</strong>)</strong> : <em>MessageInterface message instance.</em><br /><em>Creates a new message instance and optionally composes its body content via view rendering. - a string, which represents the view name or path alias for rendering the HTML body of the email. In this case, the text body will be generated by applying `strip_tags()` to the HTML body. - an array with 'html' and/or 'text' elements. The 'html' element refers to the view name or path alias for rendering the HTML body, while 'text' element is for rendering the text body. For example, `['html' => 'contact-html', 'text' => 'contact-text']`. - null, meaning the message instance will be returned without body content. The view to be rendered can be specified in one of the following formats: - path alias (e.g. "@app/mail/contact"); - a relative view name (e.g. "contact") located under [[viewPath]].</em> |
| public | <strong>getLastTransaction()</strong> : <em>array</em><br /><em>Returns the array of the last transaction returned by Mandrill.</em> |
| public | <strong>getMandrill()</strong> : <em>Mandrill initialized Mandrill</em><br /><em>Gets Mandrill instance</em> |
| public | <strong>init()</strong> : <em>void</em><br /><em>Initializes the object. This method is invoked at the end of the constructor after the object is initialized with the given configuration.</em> |
| public | <strong>setApikey(</strong><em>string</em> <strong>$apikey</strong>)</strong> : <em>void</em><br /><em>Sets the API key for Mandrill</em> |
| protected | <strong>sendMessage(</strong><em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em> <strong>$message</strong>)</strong> : <em>boolean whether the message is sent successfully</em><br /><em>Sends the specified message.</em> |

*This class extends \yii\mail\BaseMailer*

*This class implements \yii\base\ViewContextInterface, \yii\mail\MailerInterface, \yii\base\Configurable*

<hr /> 
### Class: \nickcv\mandrill\Message

> Message is the class that is used to store the data of an email message that will be sent through Mandrill API.

| Visibility | Function |
|:-----------|:---------|
| public | <strong>areClicksTracked()</strong> : <em>boolean</em><br /><em>Returns the status of tracking for when the links in the message are clicked.</em> |
| public | <strong>areOpensTracked()</strong> : <em>boolean</em><br /><em>Returns the status of tracking for when the message is opened.</em> |
| public | <strong>attach(</strong><em>string</em> <strong>$fileName</strong>, <em>array</em> <strong>$options=array()</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Attaches existing file to the email message.</em> |
| public | <strong>attachContent(</strong><em>string</em> <strong>$content</strong>, <em>array</em> <strong>$options=array()</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Attach specified content as file for the email message.</em> |
| public | <strong>disableAsync()</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Disables async sending the this message.</em> |
| public | <strong>disableClicksTracking()</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Disable tracking of when links in the message are being clicked.</em> |
| public | <strong>disableOpensTracking()</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Disable tracking of when the message is opened.</em> |
| public | <strong>disableTemplateDefaults()</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Disable the use of template defaults.</em> |
| public | <strong>embed(</strong><em>string</em> <strong>$fileName</strong>, <em>array</em> <strong>$options=array()</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Embeds an image in the email message.</em> |
| public | <strong>embedContent(</strong><em>string</em> <strong>$content</strong>, <em>array</em> <strong>$options=array()</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Embed a binary as an image in the message.</em> |
| public | <strong>enableAsync()</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Enables async sending for this message.</em> |
| public | <strong>enableClicksTracking()</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Enable tracking of when links in the message are being clicked. Tracking is enabled by default.</em> |
| public | <strong>enableOpensTracking()</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Enable tracking of when the message is opened. Tracking is enabled by default.</em> |
| public | <strong>enableTemplateDefaults()</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Enable the use of template defaults.</em> |
| public | <strong>getAttachments()</strong> : <em>array</em><br /><em>Returns the attachments array.</em> |
| public | <strong>getBcc()</strong> : <em>array</em><br /><em>Returns an array of email addresses in the following format: ~~~ [</em> |
| public | <strong>getCc()</strong> : <em>array</em><br /><em>Returns an array of email addresses in the following format: ~~~ [</em> |
| public | <strong>getCharset()</strong> : <em>null</em><br /><em>Mandrill does not let users set a charset.</em> |
| public | <strong>getEmbeddedContent()</strong> : <em>array list of embedded content</em><br /><em>Returns the images array.</em> |
| public | <strong>getFrom()</strong> : <em>string</em><br /><em>Returns the from email address in this format: ~~~ Sender Name <email@example.com> ~~~ The default value for the sender name is the application name configuration parameter inside `config/web.php`. The default value for the sender address is the adminEmail parameter inside `config/params.php`.</em> |
| public | <strong>getGlobalMergeVars()</strong> : <em>array</em><br /><em>Returns the global merge vars that will be submitted to mandrill.</em> |
| public | <strong>getHtmlBody()</strong> : <em>string</em><br /><em>Returns the html purified version of the html body.</em> |
| public | <strong>getMandrillMessageArray()</strong> : <em>array</em><br /><em>Returns the array used by the Mandrill Class to initialize a message and submit it.</em> |
| public | <strong>getReplyTo()</strong> : <em>array</em><br /><em>Returns an array of email addresses in the following format: ~~~ [</em> |
| public | <strong>getSubaccount()</strong> : <em>string</em> |
| public | <strong>getSubject()</strong> : <em>string</em><br /><em>Returns the html-encoded subject.</em> |
| public | <strong>getTags()</strong> : <em>array the list of tags</em><br /><em>Returns the list of tags you already set for this message.</em> |
| public | <strong>getTemplateContent()</strong> : <em>array</em><br /><em>Returns the dynamic content used to replace blocks in the template.</em> |
| public | <strong>getTemplateName()</strong> : <em>string</em><br /><em>Returns the name of the mandrill template to be used.</em> |
| public | <strong>getTextBody()</strong> : <em>string</em><br /><em>Returns the html-purified version of the raw text body.</em> |
| public | <strong>getTo()</strong> : <em>array</em><br /><em>Returns an array of email addresses in the following format: ~~~ [</em> |
| public | <strong>isAsync()</strong> : <em>boolean</em><br /><em>Tells whether or not the message will be sent asynchronously.</em> |
| public | <strong>isImportant()</strong> : <em>boolean</em> |
| public | <strong>setAsImportant()</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Make the message important.</em> |
| public | <strong>setAsNotImportant()</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Make the message not important. The message is not important by default.</em> |
| public | <strong>setBcc(</strong><em>string/array</em> <strong>$bcc</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Sets the message recipient(s).</em> |
| public | <strong>setCc(</strong><em>string/array</em> <strong>$cc</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Sets the message recipient(s).</em> |
| public | <strong>setCharset(</strong><em>string</em> <strong>$charset</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Mandrill does not let users set a charset.</em> |
| public | <strong>setFrom(</strong><em>string/array</em> <strong>$from</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Sets the message sender.</em> |
| public | <strong>setGlobalMergeVars(</strong><em>array</em> <strong>$mergeVars</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Adds the given merge vars to the global merge vars array. Merge vars are case insensitive and cannot start with _</em> |
| public | <strong>setHtmlBody(</strong><em>string</em> <strong>$html</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Sets the html body.</em> |
| public | <strong>setReplyTo(</strong><em>string/array</em> <strong>$replyTo</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Sets the message recipient(s).</em> |
| public | <strong>setSubaccount(</strong><em>string</em> <strong>$subaccount</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em> |
| public | <strong>setSubject(</strong><em>string</em> <strong>$subject</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Sets the message subject.</em> |
| public | <strong>setTags(</strong><em>string/array</em> <strong>$tag</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Mandrill lets you use tags to categorize your messages, making it much easier to find the messages your are looking for within their website dashboard. Stats are accumulated within mandrill using tags, though they only store the first 100 they see, so this should not be unique or change frequently. Tags should be 50 characters or less. Any tags starting with an underscore are reserved for internal use and will be ignored. Some common tags include *registration* and *password reset*.</em> |
| public | <strong>setTemplateData(</strong><em>string</em> <strong>$templateName</strong>, <em>array</em> <strong>$templateContent=array()</strong>, <em>string</em> <strong>$templateLanguage=`'mailchimp'`</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Sets the data to be used by the Mandrill template system.</em> |
| public | <strong>setTextBody(</strong><em>string</em> <strong>$text</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Sets the raw text body.</em> |
| public | <strong>setTo(</strong><em>string/array</em> <strong>$to</strong>)</strong> : <em>[\nickcv\mandrill\Message](#class-nickcvmandrillmessage)</em><br /><em>Sets the message recipient(s).</em> |
| public | <strong>toString()</strong> : <em>string</em><br /><em>Returns the string representation of this message.</em> |

*This class extends \yii\mail\BaseMessage*

*This class implements \yii\mail\MessageInterface, \yii\base\Configurable*

